[metadata]
name = "npm-packages"
description = "List globally installed npm packages"
requirements = ["npm"]

[source]
command = "npm list -g --depth=0 --parseable 2>/dev/null | tail -n +2 | xargs -I{} basename {}"

[preview]
command = "npm info '{}' 2>/dev/null | head -30"

[actions.uninstall]
description = "Uninstall the selected global package"
command = "npm uninstall -g '{}'"
mode = "execute"

[actions.update]
description = "Update the selected global package"
command = "npm update -g '{}'"
mode = "execute"
